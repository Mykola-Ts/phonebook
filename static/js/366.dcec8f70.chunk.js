"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[366],{836:function(n,t,r){r.d(t,{AX:function(){return w},Fy:function(){return y},MS:function(){return C},Qn:function(){return k},__:function(){return Z},gt:function(){return P},jj:function(){return A},ol:function(){return z}});var e,o,i,a,c,l,s,u,d=r(168),x=r(1413),p=r(2791),f=r(5867),h=r(5705),m=r(8820),v=r(7425),g=r(9126),b=r(3329),j=p.forwardRef((function(n,t){return(0,b.jsx)(h.gN,(0,x.Z)({innerRef:t},n))})),Z=f.ZP.label(e||(e=(0,d.Z)(["\n  display: block;\n\n  margin-bottom: 28px;\n\n  font-weight: 700;\n\n  cursor: pointer;\n"]))),w=f.ZP.div(o||(o=(0,d.Z)(["\n  position: relative;\n\n  color: currentColor;\n\n  transition: color var(--transition-duration) var(--transition-timing-function);\n\n  &:has(input:focus) {\n    color: var(--blue-color);\n  }\n"]))),y=(0,f.ZP)(j)(i||(i=(0,d.Z)(["\n  display: block;\n\n  width: 100%;\n  border: 1px solid var(--text-black-color);\n  border-radius: 8px;\n  padding: 8px 16px 8px 32px;\n  margin-top: 8px;\n\n  outline: 2px solid transparent;\n\n  transition: border-color var(--transition-duration)\n      var(--transition-timing-function),\n    outline-color var(--transition-duration) var(--transition-timing-function);\n\n  &:focus {\n    border-color: transparent;\n    outline-color: var(--blue-color);\n  }\n\n  & + svg {\n    cursor: text;\n  }\n"]))),k=(0,f.ZP)(m.nf1)(a||(a=(0,d.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 8px;\n  transform: translateY(-50%);\n"]))),P=(0,f.ZP)(m.Dme)(c||(c=(0,d.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 8px;\n  transform: translateY(-50%);\n"]))),C=(0,f.ZP)(v.z85)(l||(l=(0,d.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 8px;\n  transform: translateY(-50%);\n"]))),z=(0,f.ZP)(g.SPk)(s||(s=(0,d.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 8px;\n  transform: translateY(-50%);\n"]))),A=f.ZP.p(u||(u=(0,d.Z)(["\n  padding: 4px;\n\n  font-weight: 500;\n\n  color: var(--error-color);\n"])))},1294:function(n,t,r){r.d(t,{$:function(){return i}});var e=r(1434),o=r(3329),i=function(n){var t=n.title,r=n.children;return(0,o.jsxs)(e.i,{children:[t&&(0,o.jsx)(e.D,{children:t}),r]})}},4159:function(n,t,r){r.d(t,{g:function(){return i},w:function(){return a}});var e=r(9434),o=r(2946),i=function(){return(0,e.v9)(o.Af)},a=function(){return(0,e.v9)(o.hF)}},9366:function(n,t,r){r.r(t),r.d(t,{default:function(){return Tn}});var e,o,i,a,c,l,s,u,d,x,p,f,h,m,v,g,b,j,Z,w,y,k,P,C,z,A=r(2791),S=r(9434),V=r(5218),F=r(4159),O=r(3634),D=r(2946),N=r(3431),Y=r(1294),B=r(8820),_=r(1273),E=r(168),G=r(5867),I=r(9126),M=G.ZP.div(e||(e=(0,E.Z)(["\n  position: relative;\n"]))),T=G.ZP.input(o||(o=(0,E.Z)(["\n  display: block;\n\n  width: 100%;\n  border: 1px solid var(--text-black-color);\n  border-radius: 8px;\n  padding: 8px 32px;\n  margin-top: 8px;\n\n  outline: 2px solid transparent;\n\n  transition: border-color var(--transition-duration)\n      var(--transition-timing-function),\n    outline-color var(--transition-duration) var(--transition-timing-function);\n\n  &:focus {\n    border-color: transparent;\n    outline-color: var(--blue-color);\n  }\n\n  &:focus + svg {\n    fill: var(--blue-color);\n  }\n"]))),L=(0,G.ZP)(I.dVI)(i||(i=(0,E.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 8px;\n  transform: translateY(-50%);\n\n  cursor: text;\n"]))),X=G.ZP.button(a||(a=(0,E.Z)(["\n  position: absolute;\n  top: 50%;\n  right: 8px;\n  transform: translateY(-50%);\n\n  width: 16px;\n  height: 16px;\n  padding: 0;\n  border: none;\n\n  color: currentColor;\n  background-color: transparent;\n\n  transition: color var(--transition-duration) var(--transition-timing-function);\n\n  &:is(:hover, :focus) {\n    color: var(--blue-color);\n  }\n"]))),H=r(836),K=r(3329),R=function(){var n=(0,S.I0)(),t=(0,S.v9)(N.G);(0,A.useEffect)((function(){n((0,_.x)(""))}),[n]);return(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)(H.__,{children:["Find contact by name or number",(0,K.jsxs)(M,{children:[(0,K.jsx)(T,{type:"text",value:t,placeholder:"Name or number",onChange:function(t){var r=t.currentTarget.value.trim();n((0,_.x)(r))}}),(0,K.jsx)(L,{}),t&&(0,K.jsx)(X,{type:"button","aria-label":"Reset filter",onClick:function(t){t.currentTarget.closest("label").control.value="",n((0,_.x)(""))},children:(0,K.jsx)(B.oHP,{})})]})]})})},U=r(9439),Q=r(13),$=r(3643),q=r(2051),J=r(6094),W=G.ZP.div(c||(c=(0,E.Z)(["\n  display: flex;\n  gap: 24px;\n\n  margin-bottom: 28px;\n\n  & > div {\n    width: calc((100% - 24px) / 2);\n    height: 36px;\n  }\n\n  @media screen and (min-width: 768px) {\n    & > div {\n      width: auto;\n      min-width: 160px;\n    }\n  }\n"]))),nn=[{value:"id",label:"Sort by date"},{value:"name",label:"Sort by name"},{value:"number",label:"Sort by number"}],tn=[{value:"asc",label:"Ascending"},{value:"desc",label:"Descending"}],rn=function(){var n=(0,S.I0)(),t=(0,S.v9)(q.z)||{},r=(0,A.useState)(nn.find((function(n){return n.value===t.sortByValue}))||nn[0]),e=(0,U.Z)(r,2),o=e[0],i=e[1],a=(0,A.useState)(tn.find((function(n){return n.value===t.sortOrderValue}))||tn[0]),c=(0,U.Z)(a,2),l=c[0],s=c[1];return(0,K.jsxs)(W,{children:[(0,K.jsx)(Q.ZP,{options:nn,defaultValue:o,styles:J.XO,"aria-label":"Sort contacts by value",onChange:function(t){n((0,$.c)({sortByValue:t.value,sortOrderValue:l.value})),i(t)}}),(0,K.jsx)(Q.ZP,{options:tn,defaultValue:l,styles:J.XO,"aria-label":"Sort contacts by order",onChange:function(t){n((0,$.c)({sortByValue:o.value,sortOrderValue:t.value})),s(t)}})]})},en=r(5705),on=r(7692),an=r(5114),cn=r(7991),ln=function(n){var t=n.contact,r=n.closeModal,e=(0,S.I0)(),o=(0,F.g)(),i=t.id,a=t.name,c=t.number;return(0,K.jsx)(en.J9,{initialValues:{name:a,number:c},onSubmit:function(n){var t=o.filter((function(n){return n.name!==a&&n.number!==c}));(0,J.EA)(t,n.name,n.number)||(e((0,O.mP)({id:i,editedContact:n})).unwrap().then((function(n){V.Am.remove(),V.Am.success("Contact ".concat(a," successfully changed."))})).catch((function(n){V.Am.remove(),V.Am.error(J.xk)})),r())},validationSchema:J.OD,children:(0,K.jsxs)(en.l0,{children:[(0,K.jsxs)(H.__,{children:["Name",(0,K.jsxs)(H.AX,{children:[(0,K.jsx)(H.Fy,{type:"text",name:"name",placeholder:"First name Last name"}),(0,K.jsx)(H.Qn,{size:18})]}),(0,K.jsx)(en.Bc,{name:"name",component:H.jj})]}),(0,K.jsxs)(H.__,{children:["Number",(0,K.jsxs)(H.AX,{children:[(0,K.jsx)(H.Fy,{type:"tel",name:"number",placeholder:"000-00-00"}),(0,K.jsx)(H.ol,{})]}),(0,K.jsx)(en.Bc,{name:"number",component:H.jj})]}),(0,K.jsxs)(cn.bW,{children:[(0,K.jsxs)(an.K,{type:"button",className:"cancel-primary-btn",onClick:function(){return r()},children:[(0,K.jsx)(B.oHP,{size:20}),"Cancel changes"]}),(0,K.jsxs)(an.K,{type:"submit",children:[(0,K.jsx)(on.jC8,{size:20}),"Save changes"]})]})]})})},sn=r(8512),un=G.ZP.div(l||(l=(0,E.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  gap: 8px;\n\n  margin-right: auto;\n  overflow: hidden;\n\n  @media screen and (max-width: 767px) {\n    justify-content: center;\n\n    width: 100%;\n\n    text-align: center;\n  }\n"]))),dn=G.ZP.div(s||(s=(0,E.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n\n  width: 60px;\n  height: 60px;\n  border: 1px solid var(--gray-color);\n  border-radius: 50%;\n\n  box-shadow: var(--box-shadow);\n"]))),xn=G.ZP.span(u||(u=(0,E.Z)(["\n  font-size: 20px;\n  line-height: 1.4;\n  letter-spacing: 0.2px;\n"]))),pn=G.ZP.p(d||(d=(0,E.Z)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  font-size: 18px;\n  font-weight: 700;\n  line-height: 1.33;\n  letter-spacing: -0.36px;\n\n  @media screen and (max-width: 767px) {\n    width: 100%;\n  }\n"]))),fn=G.ZP.a(x||(x=(0,E.Z)(["\n  font-weight: 400;\n  text-decoration: none;\n\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n\n  color: currentColor;\n\n  transition: color var(--transition-duration) var(--transition-timing-function);\n\n  &:is(:hover, :focus, :active) {\n    color: var(--blue-color);\n  }\n"]))),hn=(G.ZP.div(p||(p=(0,E.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-shrink: 0;\n\n  @media screen and (max-width: 767px) {\n    gap: 12px;\n  }\n\n  @media screen and (max-width: 380px) {\n    flex-direction: column;\n  }\n"]))),G.ZP.a(f||(f=(0,E.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 36px;\n  height: 36px;\n  border: 1px solid var(--success-color);\n  border-radius: 50%;\n  padding: 8px;\n\n  color: var(--success-color);\n  background-color: transparent;\n\n  transition: color var(--transition-duration) var(--transition-timing-function),\n    background-color var(--transition-duration)\n      var(--transition-timing-function);\n\n  &:is(:hover, :focus, :active) {\n    color: var(--white-color);\n    background-color: var(--success-color);\n  }\n"])))),mn=(G.ZP.div(h||(h=(0,E.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n\n  @media screen and (max-width: 767px) {\n    flex-direction: row;\n    gap: 12px;\n  }\n\n  @media screen and (max-width: 380px) {\n    flex-direction: column;\n  }\n"]))),r(1434)),vn=r(6907),gn=r(6856),bn=r(5763),jn=r(7855),Zn=G.ZP.div(m||(m=(0,E.Z)(["\n  position: absolute;\n  top: 16px;\n  right: 16px;\n"]))),wn=G.ZP.button(v||(v=(0,E.Z)(["\n  transform: scaleY(1);\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-self: start;\n\n  width: 20px;\n  height: 26px;\n  border: none;\n  padding: 0;\n\n  color: currentColor;\n  background-color: transparent;\n\n  transition: transform var(--transition-duration)\n      var(--transition-timing-function),\n    color var(--transition-duration) var(--transition-timing-function);\n\n  &:is(:hover, :focus, :active) {\n    transform: scaleY(1.1);\n\n    color: var(--blue-color);\n  }\n"]))),yn=G.ZP.ul(g||(g=(0,E.Z)(["\n  position: absolute;\n  top: 0;\n  right: 20px;\n  z-index: 10;\n\n  display: flex;\n  flex-direction: column;\n\n  min-width: 120px;\n  border: 1px solid var(--text-black-color);\n  border-radius: 8px;\n  padding: 4px 0;\n\n  background-color: var(--white-color);\n"]))),kn=G.ZP.li(b||(b=(0,E.Z)(["\n  width: 100%;\n"]))),Pn=G.ZP.button(j||(j=(0,E.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  width: 100%;\n  border: 1px solid var(--gray-color);\n  border-radius: 4px;\n  padding: 4px 8px;\n\n  color: currentColor;\n  background-color: #ffffffb3;\n\n  transition: color var(--transition-duration) var(--transition-timing-function),\n    background-color var(--transition-duration)\n      var(--transition-timing-function);\n\n  &:is(:hover, :focus, :active) {\n    color: var(--blue-color);\n    background-color: var(--white-color);\n  }\n\n  &.calling-btn:is(:hover, :focus, :active) {\n    color: var(--success-color);\n  }\n\n  &.delete-btn:is(:hover, :focus, :active) {\n    color: var(--red-color);\n  }\n"]))),Cn=G.ZP.a(Z||(Z=(0,E.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  width: 100%;\n  border: 1px solid var(--gray-color);\n  border-radius: 4px;\n  padding: 4px 8px;\n\n  color: currentColor;\n  background-color: #ffffffb3;\n\n  transition: color var(--transition-duration) var(--transition-timing-function),\n    background-color var(--transition-duration)\n      var(--transition-timing-function);\n\n  &:is(:hover, :focus, :active) {\n    color: var(--blue-color);\n    background-color: var(--white-color);\n  }\n\n  &.calling-btn:is(:hover, :focus, :active) {\n    color: var(--success-color);\n  }\n"]))),zn=function(n){var t=n.numberHref,r=n.onClickEdit,e=n.onClickDelete,o=(0,A.useState)(!1),i=(0,U.Z)(o,2),a=i[0],c=i[1],l=(0,A.useRef)(null);return(0,jn.O)(a,l,(function(){return c(!1)})),(0,K.jsxs)(Zn,{children:[(0,K.jsx)(wn,{type:"button",onClick:function(){return c((function(n){return!n}))},children:(0,K.jsx)(vn.Ks7,{size:20})}),a&&(0,K.jsxs)(yn,{ref:l,children:[(0,K.jsx)(kn,{children:(0,K.jsxs)(Cn,{href:"tel:".concat(t),className:"calling-btn",onClick:function(){c(!1)},children:[(0,K.jsx)(I.lfG,{size:16})," Call"]})},"Call"),(0,K.jsx)(kn,{children:(0,K.jsxs)(Pn,{type:"button",onClick:function(){c(!1),r()},children:[(0,K.jsx)(gn.mM_,{size:20})," Edit"]})},"Edit"),(0,K.jsx)(kn,{children:(0,K.jsxs)(Pn,{type:"button",className:"delete-btn",onClick:function(){c(!1),e()},children:[(0,K.jsx)(bn.MSG,{size:20})," Delete"]})},"Delete")]})]})},An=(0,A.lazy)((function(){return Promise.resolve().then(r.bind(r,4735))})),Sn=(0,A.lazy)((function(){return r.e(599).then(r.bind(r,1599))})),Vn=document.body,Fn="edit",On="delete",Dn=function(n){var t=n.contact,r=void 0===t?{}:t,e=n.ordinalNumber,o=void 0===e?0:e,i=(0,A.useState)(!1),a=(0,U.Z)(i,2),c=a[0],l=a[1],s=(0,A.useState)(!1),u=(0,U.Z)(s,2),d=u[0],x=u[1],p=(0,S.I0)(),f=function(n,t){Vn.style.overflow=n?"hidden":"",t===Fn?l(n):t===On&&x(n)},h=r.id,m=r.name,v=r.number,g=v.split("-").join("").split(" ").join(""),b=m.split(" ")[0],j=m.split(" ")[1]||"",Z=J.VY[o%J.VY.length];return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(dn,{style:{background:Z},children:(0,K.jsxs)(xn,{children:[b.split("")[0].toUpperCase(),j&&j.split("")[0].toUpperCase()]})}),(0,K.jsxs)(un,{children:[(0,K.jsx)(pn,{children:"".concat(m," ")}),(0,K.jsx)(fn,{href:"tel:".concat(g),children:v})]}),(0,K.jsx)(hn,{href:"tel:".concat(g),"aria-label":"Call the number ".concat(g),children:(0,K.jsx)(I.lfG,{})}),(0,K.jsx)(zn,{numberHref:g,onClickEdit:function(){return f(!0,Fn)},onClickDelete:function(){return f(!0,On)}}),(0,K.jsx)(A.Suspense,{fallback:(0,K.jsx)(sn.a,{}),children:(0,K.jsxs)(An,{closeModal:function(){return f(!1,Fn)},modalIsOpen:c,children:[(0,K.jsx)(mn.D,{children:"Edit contact"}),(0,K.jsx)(ln,{contact:r,closeModal:function(){return f(!1,Fn)}})]})}),(0,K.jsx)(A.Suspense,{fallback:(0,K.jsx)(sn.a,{}),children:(0,K.jsx)(Sn,{title:"Delete contact",modalText:(0,K.jsxs)(K.Fragment,{children:["Are you sure you want to delete the contact"," ",(0,K.jsx)("strong",{children:m}),"?"]}),isOpen:d,closeModal:function(){return f(!1,On)},onDelete:function(){return function(n,t){p((0,O.GK)(n)).unwrap().then((function(n){V.Am.remove(),V.Am.success("".concat(t," deleted from contacts")),f(!1,On)})).catch((function(n){V.Am.remove(),V.Am.error(J.xk)}))}(h,m)}})})]})},Nn=G.ZP.li(w||(w=(0,E.Z)(["\n  position: relative;\n  transform: scale(1, 1);\n\n  display: flex;\n  align-items: center;\n  gap: 16px;\n\n  border: 2px solid var(--gray-color);\n  border-radius: 8px;\n  padding: 16px 44px 16px 20px;\n\n  box-shadow: 0px 1px 6px rgba(46, 47, 66, 0.08),\n    0px 1px 1px rgba(46, 47, 66, 0.16), 0px 2px 1px rgba(46, 47, 66, 0.08);\n\n  transition: transform var(--transition-duration)\n    var(--transition-timing-function);\n\n  &:not(:last-child) {\n    margin-bottom: 20px;\n  }\n\n  &:is(:hover, :focus) {\n    transform: scale(1.01, 1.05);\n  }\n\n  @media screen and (max-width: 767px) {\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 12px;\n  }\n"]))),Yn=G.ZP.p(y||(y=(0,E.Z)(["\n  text-align: center;\n"]))),Bn=function(){var n=(0,F.w)();return n.length?(0,K.jsx)("ul",{children:n.map((function(n,t){return(0,K.jsx)(Nn,{children:(0,K.jsx)(Dn,{contact:n,ordinalNumber:t})},n.id)}))}):(0,K.jsx)(Yn,{children:"No contacts found for the entered name or number"})},_n=G.ZP.div(k||(k=(0,E.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 16px;\n\n  width: 100%;\n  height: calc(100vh - 134px);\n"]))),En=G.ZP.p(P||(P=(0,E.Z)(["\n  text-align: center;\n  font-size: 18px;\n  line-height: 1.33;\n  letter-spacing: -0.36px;\n"]))),Gn=function(){return(0,K.jsxs)(_n,{children:[(0,K.jsx)(I.j4y,{size:64}),(0,K.jsx)(En,{children:"Oops, something went wrong. Try reloading the page."})]})},In=G.ZP.p(C||(C=(0,E.Z)(["\n  text-align: center;\n"]))),Mn=G.ZP.p(z||(z=(0,E.Z)(["\n  margin-bottom: 12px;\n\n  font-weight: 700;\n"]))),Tn=function(){var n=(0,S.I0)(),t=(0,F.g)(),r=(0,F.w)(),e=(0,S.v9)(N.G),o=(0,S.v9)(D.xU),i=(0,S.v9)(D.zh);return(0,A.useEffect)((function(){n((0,O.yF)()).unwrap().catch((function(n){V.Am.remove(),V.Am.error("Oops, something went wrong. Try reloading the page.")}))}),[n]),(0,K.jsx)("main",{children:(0,K.jsxs)(Y.$,{title:"Contacts",children:[(0,K.jsx)(R,{}),i?(0,K.jsx)(Gn,{}):t.length>0?(0,K.jsxs)(K.Fragment,{children:[!e&&(0,K.jsxs)(Mn,{children:["Total contacts: ",t.length]}),e&&r.length>0&&(0,K.jsx)(Mn,{children:"Total of contacts found for the query: ".concat(r.length)}),r.length>0&&(0,K.jsx)(rn,{}),(0,K.jsx)(Bn,{})]}):!o&&(0,K.jsx)(In,{children:"No contacts"}),o&&(0,K.jsx)(sn.a,{text:"Loading data, please wait..."})]})})}},2946:function(n,t,r){r.d(t,{Af:function(){return a},hF:function(){return s},xU:function(){return c},zh:function(){return l}});var e=r(6916),o=r(3431),i=r(2051),a=function(n){return n.contacts.items},c=function(n){return n.contacts.isLoading},l=function(n){return n.contacts.error},s=(0,e.P1)([a,o.G,i.z],(function(n,t,r){return n.filter((function(n){return n.name.toLowerCase().includes(t.toLowerCase())||n.number.includes(t)})).sort((function(n,t){return"asc"===r.sortOrderValue?n[r.sortByValue].localeCompare(t[r.sortByValue]):t[r.sortByValue].localeCompare(n[r.sortByValue])}))}))},3431:function(n,t,r){r.d(t,{G:function(){return e}});var e=function(n){return n.filter.value}},2051:function(n,t,r){r.d(t,{z:function(){return e}});var e=function(n){return n.sort.value}}}]);
//# sourceMappingURL=366.dcec8f70.chunk.js.map